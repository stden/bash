#!/bin/bash
# 4. Создайте два фоновых процесса, выполняющих одинаковый бесконечный цикл вычисления
# (например, перемножение двух чисел).
# После запуска процессов должна сохраниться возможность использовать виртуальные консоли,
# с которых их запустили.
# Используя команду top, проанализируйте процент использования ресурсов процессора этими
# процессами.
# Добейтесь, чтобы тот процесс, который был запущен первым,
# использовал ресурс процессора не более чем на 20%.
./cycle.sh&pid1=$!
./cycle.sh&pid2=$!

echo $pid1
echo $pid2
# Изменение приоритета для процесса
renice +10 $pid1

echo "see, PID "$pid1" now (probably) use less 20% CPU"
top
kill $pid1
kill $pid2

exit 1